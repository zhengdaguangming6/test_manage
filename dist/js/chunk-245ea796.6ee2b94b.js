(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-245ea796"],{"07e8":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"box-card"},[t("el-row",[t("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.toAddinterface()}}},[e._v("创 建")])],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-input",{staticStyle:{width:"180px","margin-right":"5px"},attrs:{type:"text",placeholder:"请输入接口名称",maxlength:"64","show-word-limit":""},model:{value:e.search_interface_title,callback:function(t){e.search_interface_title=t},expression:"search_interface_title"}}),t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.searchInterfaceTitle}},[e._v("搜索")])],1),t("el-col",{attrs:{span:8}},[t("el-input",{staticStyle:{width:"180px","margin-right":"5px"},attrs:{type:"text",placeholder:"请输入创建人",maxlength:"32","show-word-limit":""},model:{value:e.search_create_user,callback:function(t){e.search_create_user=t},expression:"search_create_user"}}),t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.searchCreateUser}},[e._v("搜索")])],1),t("el-col",{attrs:{span:8}},[t("el-input",{staticStyle:{width:"180px","margin-right":"5px"},attrs:{type:"text",placeholder:"请输入更新人",maxlength:"32","show-word-limit":""},model:{value:e.search_update_user,callback:function(t){e.search_update_user=t},expression:"search_update_user"}}),t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.searchUpdateUser}},[e._v("搜索")])],1)],1),t("el-row",{staticStyle:{"margin-top":"20px"}},[t("el-rol",{attrs:{span:8}},[e._v(" 执行状态： "),t("el-radio",{attrs:{label:"1"},model:{value:e.runStatus,callback:function(t){e.runStatus=t},expression:"runStatus"}},[e._v("执行")]),t("el-radio",{attrs:{label:"0"},model:{value:e.runStatus,callback:function(t){e.runStatus=t},expression:"runStatus"}},[e._v("不执行")]),t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.searchRun()}}},[e._v("搜索")])],1)],1),t("el-row",{staticStyle:{"margin-top":"10px"}},[t("el-button",{attrs:{type:e.propertyAll},on:{click:e.allChange}},[e._v("all")]),t("el-button",{attrs:{type:e.propertyYapi},on:{click:e.yapiChange}},[e._v("yapi")]),t("el-button",{attrs:{type:e.propertyTapi},on:{click:e.tapiChange}},[e._v("tapi")]),t("el-button",{attrs:{type:e.propertyM},on:{click:e.mChange}},[e._v("m")]),t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-left":"50px"},attrs:{type:"primary","element-loading-text":"正在努力测试中...","element-loading-spinner":"el-icon-loading","element-loading-background":"#F2F6FC"},on:{click:e.manyRequestor}},[e._v("多选-批量接口测试")]),t("json-viewer",{staticStyle:{"background-color":"rgba(159,138,127,0.11)"},attrs:{value:e.requestor_result,copyable:"","expand-depth":3,sort:""}})],1)],1),t("el-card",{staticClass:"box-card"},[t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55",fixed:"left"}}),t("el-table-column",{attrs:{prop:"id",label:"序号",width:"50",fixed:"left"}}),t("el-table-column",{attrs:{prop:"interface_title",label:"接口名称",width:"150"}}),t("el-table-column",{attrs:{prop:"method",label:"请求方式"}}),t("el-table-column",{attrs:{prop:"path",label:"path",width:"150"}}),t("el-table-column",{attrs:{prop:"domain",label:"domain"}}),t("el-table-column",{attrs:{prop:"run",label:"是否执行"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.run?e.runObj["1"]:e.runObj["0"]))]}}])}),t("el-table-column",{attrs:{prop:"update_user.username",label:"更新人"}}),t("el-table-column",{attrs:{prop:"update_time",label:"更新时间"}}),t("el-table-column",{attrs:{prop:"create_user.username",label:"创建人"}}),t("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),t("el-table-column",{attrs:{prop:"notes",label:"备注","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"mini",plain:"",round:""},on:{click:function(t){return e.runClick(a.row.id)}}},[e._v("RUN")]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"确定删除吗？"},on:{confirm:function(t){return e.deleteClick(a.row.id)}}},[t("el-button",{attrs:{slot:"reference",type:"danger",size:"mini",plain:"",round:""},slot:"reference"},[e._v("删除")])],1),t("el-button",{attrs:{type:"success",size:"mini",plain:"",round:""},on:{click:function(t){return e.interface_detail(a.row.id)}}},[e._v("查看")]),t("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"primary",size:"mini",plain:"",round:""},on:{click:function(t){return e.editClick(a.row.id)}}},[e._v("编辑")])]}}])})],1)],1),t("div",{staticClass:"pageSet"},[t("el-pagination",{attrs:{background:"","current-page":e.pageInfo.page,"page-sizes":[10,20,30,40,50,100,200,500,1e3],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},i=[],s=(a("14d9"),{name:"Interface_list",data(){return{pageInfo:{page:1,size:10,total:"",current_page:""},tableData:[],runObj:{1:"执行",0:"不执行"},singleDate:"",visible:!1,propertyTapi:"",propertyYapi:"",propertyAll:"success",propertyM:"",tapi:"",yapi:"",m:"",search_interface_title:"",search_create_user:"",search_update_user:"",runStatus:"",result_json:"",multipleSelection:[],requestor_result:{},loading:""}},methods:{pageChange(e,t){this.axios.get("interface_test/interface/",{params:{page:e,size:t,interface_title:this.search_interface_title,create_user:this.search_create_user,update_user:this.search_update_user,run:this.runStatus,yapi:this.yapi,tapi:this.tapi,m:this.m}}).then(a=>{this.tableData=a.data.results,this.pageInfo.total=a.data.count,this.pageInfo.page=e,this.pageInfo.size=t,this.pageInfo.current_page=e}).catch(e=>{console.log("请求失败",e)})},handleSizeChange(e){console.log(`每页 ${e} 条`),this.pageChange(this.pageInfo.page,e)},handleCurrentChange(e){return console.log("当前页: "+e),this.pageChange(e,this.pageInfo.size),this.pageInfo.current_page=e,e},deleteClick(e){this.axios.delete("interface_test/interface/"+e.toString()+"/").then((function(e){console.log("请求成功",e),location.reload()})).catch(e=>{console.log("请求失败",e)})},editClick(e){this.$router.push({name:"Edit_interface",query:{id:e}})},interface_detail(e){this.$router.push({name:"Interface_detail",query:{id:e}})},toAddinterface(){this.$router.push({name:"Add_interface"})},searchFunc(){this.axios.get("interface_test/interface/",{params:{page:1,size:10,tapi:this.tapi,yapi:this.yapi,m:this.m,interface_title:this.search_interface_title,create_user:this.search_create_user,update_user:this.search_update_user,run:this.runStatus}}).then(e=>{this.tableData=e.data.results,this.pageInfo.total=e.data.count,this.pageInfo.page=1,this.pageInfo.size=10,this.pageInfo.current_page=1}).catch(e=>{console.log("请求失败",e)})},yapiChange(){this.propertyAll="",this.propertyTapi="",this.propertyM="",this.propertyYapi="success",this.yapi="yapi",this.tapi="",this.m="",this.searchFunc()},tapiChange(){this.propertyAll="",this.propertyYapi="",this.propertyM="",this.propertyTapi="success",this.tapi="tapi",this.yapi="",this.m="",this.searchFunc()},mChange(){this.propertyAll="",this.propertyYapi="",this.propertyTapi="",this.propertyM="success",this.tapi="",this.yapi="",this.m="m",this.searchFunc()},allChange(){this.propertyYapi="",this.propertyTapi="",this.propertyM="",this.propertyAll="success",this.tapi="",this.yapi="",this.m="",this.searchFunc()},searchInterfaceTitle(){this.searchFunc()},searchCreateUser(){this.searchFunc()},searchUpdateUser(){this.searchFunc()},searchRun(){this.searchFunc()},runClick(e){this.axios.get("interface_test/requestor/"+e+"/").then(e=>{e.data?(this.$message({message:e.data.msg,type:"success"}),this.result_json=e.data.data):this.$message.error("接口测试失败"),console.log("请求成功",e),console.log("接口测试数据：",e.data.data)}).catch(e=>{this.$message.error("请求失败"),console.log("请求失败",e)})},handleSelectionChange(e){let t=this;t.multipleSelection=e,console.log(t.multipleSelection)},manyRequestor(){let e=this;e.loading=!0,e.axios.post("interface_test/requestor_many/",{data_list:e.multipleSelection}).then(t=>{console.log("请求成功",t),e.loading=!1,e.requestor_result=t.data}).catch(t=>{e.loading=!1,e.$message.error("请求失败"),console.log("请求失败",t)})}},created(){this.axios.get("interface_test/interface/",{params:{page:1,size:10}}).then(e=>{this.tableData=e.data.results,this.pageInfo.total=e.data.count,this.pageInfo.page=1,this.pageInfo.size=10}).catch(e=>{console.log("请求失败",e)})}}),n=s,l=(a("4747"),a("2877")),o=Object(l["a"])(n,r,i,!1,null,"6ddd9e0e",null);t["default"]=o.exports},4747:function(e,t,a){"use strict";a("e596")},e596:function(e,t,a){}}]);
//# sourceMappingURL=chunk-245ea796.6ee2b94b.js.map